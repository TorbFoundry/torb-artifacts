version: v1.0.0
kind: project
name: flaskapp
lang: python
inputs:
  name: app.name
  db_host: app.db_host
  db_user: app.db_user
  db_pass: app.db_pass
  db_port: app.db_port
  db_database: app.db_database
files:
  - requirements.txt
  - Dockerfile
init:
  - python -m virtualenv flaskapp_venv
  - source ./flaskapp_venv/bin/activate
  - pip install -r requirements.txt
  - flask fab create-app --app-name TORB.inputs.name
build:
  script_path: ""
  dockerfile: ./Dockerfile
  registry: ""
deploy:
  helm:
    custom: true
    chart: flaskapp
    chart_version: 1.0.0
    repository: ~/.torb/torb-artifacts/helm/flaskapp
  tf:
