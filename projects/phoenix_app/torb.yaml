version: v1.0.0
kind: project
name: phoenix_app
lang: elixir
inputs:
  no_live: [bool, false, ""]
  no_ecto: [bool, false, ""]
  no_dash: [bool, false, ""]
  no_html: [bool, false, ""]
  database: [bool, false, ""]
  umbrella: [bool, false, ""]
  no_assets: [bool, false, ""]
  dfm_workaround: [bool, false, ""]
  name: [string, "phoenix_app", ""]
files:
  - Dockerfile.template
  - release.sh
  - init.sh
init:
  - mkdir ./TORB.inputs.name
  - mv Dockerfile.template ./TORB.inputs.name/Dockerfile.template
  - mv init.sh ./TORB.inputs.name/init.sh 
  - chmod +x ./TORB.inputs.name/init.sh
  - ./TORB.inputs.name/init.sh TORB.inputs.name TORB.inputs.umbrella TORB.inputs.no_live TORB.inputs.no_ecto TORB.inputs.no_dash TORB.inputs.no_html TORB.inputs.no_assets TORB.inputs.database TORB.inputs.dfm_workaround
build:
  script_path: ""
  dockerfile: Dockerfile
  registry: ""
  tag: latest
deploy:
  helm:
    custom: true
    chart: repositories/torb-artifacts/projects/phoenix/helm/phoenix
    chart_version: 1.0.0
    repository: ""
  tf:
